{% extends "aldryn_sso/base.html" %}
{% load i18n %}

{% block page_title %}{% if request.site.name %}{{ request.site.name }} {% endif %}Sign in{% endblock page_title %}

{% block content %}
    <div class="container">
        <div class="marketing-heading text-center">
            <h1>Sign in to {% if request.site.name %}<strong>{{ request.site.name }}</strong>{% else %}your website{% endif %}</h1>
        </div>
        <div class="spacer-lg"></div>
        <div class="row">
            <div class="col-md-12 col-md-offset-6 col-sm-16 col-sm-offset-4">
                {% if aldryn_localdev_enable %}
                    {% with form=aldryn_localdev_login_as_form %}
                        {% include 'aldryn_sso/includes/local_development_login_form.html' %}
                    {% endwith %}
                {% endif %}
                {% if aldryn_sso_enable_standard_login or aldryn_sso_enable %}
                    <div class="panel panel-default">
                        <div class="panel-body">
                            {% if aldryn_sso_enable_standard_login %}
                                {% with form=aldryn_sso_standard_login_form %}
                                    {% include 'aldryn_sso/includes/standard_login_form.html' %}
                                {% endwith %}
                            {% endif %}
                            {% if aldryn_sso_enable_standard_login and aldryn_sso_enable %}
                                <div class="strikethrough-block">
                                    <hr>
                                    <div class="text-center">
                                        <span class="line-text">{% trans "OR" %}</span>
                                    </div>
                                </div>
                            {% endif %}
                            {% if aldryn_sso_enable %}
                                <div class="spacer"></div>
                                {% include 'aldryn_sso/includes/sso_login_button.html' %}
                            {% endif %}
                        </div>
                        <div class="spacer"></div>
                    </div>
                {% endif %}
            {% if not aldryn_localdev_enable and not aldryn_sso_enable_standard_login and not aldryn_sso_enable %}
                <div class="panel panel-warning">
                    <div class="panel-heading">Improperly Configured</div>
                    <h2 class="text-warning"></h2>
                    <div class="panel-body">
                        No login methods configured. Please configure at least one method.<br/><br/>
                    </div>
                </div>
            {% endif %}
            </div>
        </div>
    </div>
{% endblock %}
